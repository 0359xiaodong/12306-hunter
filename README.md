12306-hunter
============

Java Swing C/S版本12306订票助手

> 自从有了12306.cn，作为标准程序员闲的没事就有了新的乐趣练练手，本程序完全开放源代码，仅作为技术学习研究交流之用，不得用于任何商业用途

基于HttpClient、Multiple Thread、File I/O等主要技术的Java Swing桌面应用，至于说用途就不多说了，你懂的。

* 直接以HTTP GET/POST发起最小数量必须的订票请求，相比浏览器插件方式更加快速高效；

* 基于多线程多账号登录并发刷票，更高的订票成功率；

* 基于文件记录最后输入的订票数据，提高交互友好体验；

* 该程序只核心关注以最高效快速提交订票请求，不支持诸如自动登录、识别验证码、支付等其他高级功能！

### 用法说明

程序采用Java语言编写实现，因此需要安装Java运行环境。理论上Java 5,6,7 版本皆可运行。

* 直接运行程序：

如果系统已安装过Java运行环境，则直接执行startup.bat即可。

当然如果不懂Java也没关系，请自行访问Oracle下载安装Java运行环境：

http://www.oracle.com/technetwork/java/javase/downloads/jre7-downloads-1880261.html

选择“Accept License Agreement”，然后点击相应系统版本下载安装即可（可能需要重启系统），之后执行startup.bat即可。

* 开发模式运行：

本项目本身是一个完整的Eclipse工程，基本Maven依赖管理，熟悉对应开发过程及有兴趣开发调试程序的，可在导入开发工具，以Java应用程序方式执行TicketMainFrame即可。

Swing界面开发采用Eclipse WindowBuilder自动生成框架代码，可自行安装插件以可视化模式查看设计实现。

### 界面截图

![Snapshot View](https://raw.github.com/xautlx/12306-hunter/master/snapshot/index.gif)

### 功能说明


> 如果有任何问题或建议反馈，请到 https://github.com/xautlx/12306-hunter/issues 提交Issue；

> 对于程序本身的不足或下面提到的优化点，欢迎有兴趣的朋友本着交流学习为目的的代码改进优化并直接提交Pull Request。

参考上述截图，对于UI界面功能从上至下大致说明如下：

目前程序除了基于乘车起始站对车次做基本校验外，其余基本没有更仔细严格的校验，使用时请自行按照官方网站给的有效数据格式填写，也欢迎补充提交完善校验逻辑代码共同完善程序。

* **数据记住功能：** 程序在关闭时自动记录最后输入的相关数据免去下次打开程序重复输入，不包括数据：密码、验证码、乘车日期（每次打开始终自动初始化为20天预售期）、 其他动态日志等信息

* **起站、到站：** 请输入精确的乘车站名称，如北京西（TODO：支持中文或拼音输入提示）

* **乘车日期：** 每次打开始终自动初始化为20天预售期，可自行修改为预售期内的有效日期，请保持默认的日期格式（TODO：日历组件输入支持；校验输入日期在预售期内）

* **备选日期：** 主要用于刷“退票”的时候，碰到他人退票自动快速下单，按照顺序优先级填入逗号分隔的乘车“日”字符串，程序自动换算日期属于本月还是下月；
                                         如当前是10号，填写2,1,29,28则表示按照下月2号，1号，本月29号，28号的顺序不断循环尝试订票，直到其中任何一次成功
                                         
* **用户及车次设置：** 为了提高成功率，可以添加多个注册的12306账号，每个登录账号各启动一个线程并发订票，各登录账号可根据所需指定相同订票车次或不同车次组合。

 每个登录账号可从【左至右优先级】设定5个【车次和席别】（一个车次可以以不同席别添加多次） ， 程序订票规原则是尽量先定优先级高的票，实在没票了才委屈求全定后续优先级低的票； 简单说就是程序不是按照优先级一个个顺序循环尝试订票，而是始终先不断尝试订优先级高的票，直到系统返回已经没票了才会转入下一车次席别。                   

 因此请合理设置各账号车次席别顺序和组合方式，因为各登录账号订票线程互相独立运行，各自都随时有可能按照上述的订票原则订到指定优先级的车次和席别的票，设定不合理就会导致优先抢到“不抢手”的票了，再想回头想抢中意的票估计就来不及了。
 
当然也不用考虑太复杂，每个登录账号和车次席别自动发现有票时，会自动弹出下单验证码输入对话框，如果感觉不是自己中意的票可以点击取消从而自动再继续尝试刷票，避免不必要的误伤了。

* **乘车日期：** 

* **乘车日期：** 

* **乘车日期：** 

* **乘车日期：**  

